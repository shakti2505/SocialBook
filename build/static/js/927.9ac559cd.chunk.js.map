{"version":3,"file":"static/js/927.9ac559cd.chunk.js","mappings":"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","sources":["app/RightBar.js","app/HomePage.js"],"sourcesContent":["import React, { useContext, useEffect, useState, useRef } from \"react\";\r\nimport UserDataContext from \"../Context/UserContext\";\r\nimport axios from \"axios\";\r\nimport BASE_URL_API from \"../utilities/baseURL\";\r\nimport { apiVariables } from \"../utilities/apiVariables\";\r\nimport { get_request } from \"../utilities/utilities\";\r\nimport { AuthContext } from \"../Context/AuthContext\";\r\nimport { ChatContext } from \"../Context/ChatContext\";\r\nimport { io } from \"socket.io-client\";\r\n\r\n\r\nconst RightBar = () => {\r\n  const user = JSON.parse(localStorage.getItem(\"User\"));\r\n  const { loggedInUserfriend } = useContext(ChatContext);\r\n  const {\r\n    onlineUsers,\r\n    updateMessage,\r\n    message,\r\n    CreateNewChat,\r\n    sendMessage,\r\n    existingMessages,\r\n    chatWindowData,\r\n    setChatWindowData,\r\n    getMessages\r\n  } = useContext(ChatContext);\r\n\r\n\r\n  const [openChatwindow, setOpenChatwindow] = useState(false);\r\n  const [minimizeChats, setMinimizeChats] = useState([]);\r\n\r\n  const handleChatwindow = (data) => {\r\n    getMessages(data.friend_ID);\r\n    setOpenChatwindow(true);\r\n    setChatWindowData(data);\r\n    CreateNewChat(user._id, data.friend_ID);\r\n  };\r\n\r\n  const handleMessage = (e) => {\r\n    updateMessage(e.target.value);\r\n  };\r\n\r\n  const handleCloseWindowChat = (chatWindowData) => {\r\n    setOpenChatwindow(false);\r\n    const index = minimizeChats.indexOf(chatWindowData);\r\n    minimizeChats.splice(index, 1);\r\n  };\r\n\r\n  const handleMinimizeChatWindow = (user) => {\r\n    const isUserMinimized = minimizeChats.some((item) => item._id === user._id);\r\n    if (!isUserMinimized) {\r\n      setMinimizeChats([...minimizeChats, user]);\r\n      setOpenChatwindow(false);\r\n    }\r\n    return minimizeChats;\r\n  };\r\n\r\n  const maximizeChatWindow = (user) => {\r\n    setOpenChatwindow(true);\r\n    const index = minimizeChats.indexOf(user);\r\n    minimizeChats.splice(index, 1);\r\n\r\n    const isUserMinimized = minimizeChats.some(\r\n      (item) => item._id === chatWindowData._id\r\n    );\r\n\r\n    if (!isUserMinimized) {\r\n      setMinimizeChats([...minimizeChats, chatWindowData]);\r\n    }\r\n\r\n    setChatWindowData(user);\r\n  };\r\n\r\n  const sortedMessages = existingMessages.sort(\r\n    (a, b) => new Date(a.timestamp) - new Date(b.timestamp)\r\n  );\r\n\r\n  const inputElement = document.getElementById(\"messageField\");\r\n  if (inputElement) inputElement.focus();\r\n\r\n  return (\r\n    <>\r\n      <div className=\"col-4 sticky h-[100vh]  p-4 top-0 max-sm:hidden\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <div>\r\n            <h4>Contacts</h4>\r\n          </div>\r\n          <div className=\"flex justify-between items-center\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 512 512\"\r\n              width=\"20\"\r\n              height=\"20\"\r\n              className=\"mr-10\"\r\n            >\r\n              <path d=\"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z\" />\r\n            </svg>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 448 512\"\r\n              width=\"20\"\r\n              height=\"20\"\r\n            >\r\n              <path d=\"M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"absolute bottom-10 left-[30rem]\">\r\n            {minimizeChats.length !== 0 &&\r\n              minimizeChats.map((item, i) => {\r\n                return (\r\n                  <img\r\n                    key={i + 5}\r\n                    src={item.friend_dp}\r\n                    className=\"object-cover w-12 h-12 rounded-full shadow-2xl m-2 hover:cursor-pointer\"\r\n                    onClick={() => maximizeChatWindow(item)}\r\n                  />\r\n                );\r\n              })}\r\n          </div>\r\n        </div>\r\n        {loggedInUserfriend.length !== 0 &&\r\n          loggedInUserfriend.map((item, index) => {\r\n            return (\r\n              <>  \r\n                <button\r\n                  onClick={() => handleChatwindow(item)}\r\n                  key={index + 5}\r\n                  className=\"flex items-center relative mt-2  active:bg-gray-300 px-2 py-2 rounded-xl w-full\"\r\n                >\r\n                  <img\r\n                    src={item.friend_dp}\r\n                    className=\"object-cover rounded-full h-12 w-12\"\r\n                  />\r\n                  <span\r\n                    className={\r\n                      onlineUsers?.some(\r\n                        (user) => user.userId === item.friend_ID\r\n                      )\r\n                        ? \"before:absolute before:flex before:top-0.5 before:left-1 before:shadow-2xl before:bg-[#34C300] before:rounded-full before:h-4 before:w-4\"\r\n                        : \"\"\r\n                    }\r\n                  ></span>\r\n                  <p className=\"ml-2\">{item.friendName}</p>\r\n                </button>\r\n              </>\r\n            );\r\n          })}\r\n        {openChatwindow && (\r\n          <div\r\n            id=\"chat window\"\r\n            className={\r\n              openChatwindow\r\n                ? \"absolute bottom-0 left-0 border-1 w-75 border-grey overflow-hidden rounded-md transition-all h-1/2 shadow-lg rea\"\r\n                : \"hidden\"\r\n            }\r\n          >\r\n            <div className=\"flex justify-between items-center shadow-sm  p-2\">\r\n              <button className=\"flex\">\r\n                <img\r\n                  src={chatWindowData.friend_dp}\r\n                  className=\"  object-cover w-12 h-12 rounded-full\"\r\n                />\r\n                <div className=\"flex flex-column ml-2\">\r\n                  <span>{chatWindowData.friendName}</span>\r\n                  <small className=\"text-muted\">Active now</small>\r\n                </div>\r\n              </button>\r\n              <div className=\"flex justify-between items-center gap-3\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 512 512\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                >\r\n                  <path\r\n                    fill=\"#0866FF\"\r\n                    d=\"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z\"\r\n                  />\r\n                </svg>\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 576 512\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                >\r\n                  <path\r\n                    fill=\"#0866FF\"\r\n                    d=\"M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z\"\r\n                  />\r\n                </svg>\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 448 512\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                  onClick={() => handleMinimizeChatWindow(chatWindowData)}\r\n                  className=\"hover:cursor-pointer\"\r\n                >\r\n                  <path\r\n                    fill=\"#0866FF\"\r\n                    d=\"M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z\"\r\n                  />\r\n                </svg>\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 384 512\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                  onClick={() => handleCloseWindowChat(chatWindowData)}\r\n                  className=\"hover:cursor-pointer\"\r\n                >\r\n                  <path\r\n                    fill=\"#0866FF\"\r\n                    d=\"M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\" overflow-auto h-[20rem] px-2\">\r\n              <div className=\"flex flex-col justify-center items-center p-2\">\r\n                <img\r\n                  src={chatWindowData.friend_dp}\r\n                  className=\"object-cover w-16 h-16 rounded-full\"\r\n                />\r\n                <strong>{chatWindowData.friendName}</strong>\r\n                <small className=\"text-muted\">Socialbook</small>\r\n                <small className=\"text-muted\">\r\n                  You're friends on socialbook\r\n                </small>\r\n              </div>\r\n              {/* {existingMessages.length !== 0 &&\r\n                existingMessages\r\n                  .filter((item) => item.senderId === loggedInUser._id)\r\n                  .map((user, i) => {\r\n                    return (\r\n                      <>\r\n                        <div\r\n                          className=\"flex items-center justify-end\"\r\n                        >\r\n                           \r\n                          <div className=\"flex items-center  bg-[#F0F2F5] mt-2 mx-2 p-2 rounded-2xl\">\r\n                            <p className=\"text-muted mx-2 text-center\">{user.text}</p>\r\n                          </div>\r\n                          <img\r\n                            src={user.senderDp}\r\n                            className=\"w-8 h-8 rounded-full object-cover\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })} */}\r\n              {/* {existingMessages.length !== 0 &&\r\n                existingMessages\r\n                  .filter((item) => item.senderId == chatWindowData.friend_ID)\r\n                  .map((user, i) => {\r\n                    return (\r\n                      <>\r\n                        <div\r\n                          className=\"flex items-center justify-start\"\r\n                        >\r\n                            <img\r\n                            src={user.senderDp}\r\n                            className=\"w-8 h-8 rounded-full object-cover\"\r\n                          />\r\n                          <div className=\"flex items-center  bg-[#F0F2F5] mt-2 mx-2 p-2 rounded-2xl\">\r\n                            <p className=\"text-muted mx-2\">{user.text}</p>\r\n                          </div>\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })} */}\r\n              {sortedMessages.map((message, index) => {\r\n                const isCurrentUser = message.senderId === user._id;\r\n                const alignClass = isCurrentUser\r\n                  ? \"justify-end\"\r\n                  : \"justify-start\";\r\n                const messageContainerClass = isCurrentUser\r\n                  ? \"bg-[#F0F2F5] flex-row-reverse\"\r\n                  : \"bg-[#F0F2F5]\";\r\n\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    className={`flex items-center ${alignClass} mt-2 mx-2`}\r\n                  >\r\n                    {!isCurrentUser && (\r\n                      <img\r\n                        src={message.senderDp}\r\n                        className=\"w-8 h-8 rounded-full object-cover\"\r\n                      />\r\n                    )}\r\n                    <div\r\n                      className={`flex items-center p-2 rounded-2xl ${messageContainerClass}`}\r\n                    >\r\n                      <p className=\"text-muted mx-2 text-center\">\r\n                        {message.text}\r\n                      </p>\r\n                    </div>\r\n                    {isCurrentUser && (\r\n                      <img\r\n                        src={message.senderDp}\r\n                        className=\"w-8 h-8 rounded-full object-cover\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n            <div className=\"flex justify-between items-center bottom-0 absolute w-full mb-2\">\r\n              {message.length === 0 && (\r\n                <>\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 384 512\"\r\n                    width=\"20\"\r\n                    height=\"20\"\r\n                  >\r\n                    <path\r\n                      fill=\"#0866FF\"\r\n                      d=\"M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z\"\r\n                    />\r\n                  </svg>\r\n                  <label\r\n                    htmlFor=\"file\"\r\n                    className=\"flex flex-col justify-center items-center\"\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      viewBox=\"0 0 512 512\"\r\n                      width=\"20\"\r\n                      height=\"20\"\r\n                      className=\"ml-2\"\r\n                    >\r\n                      <path\r\n                        fill=\"#0866FF\"\r\n                        d=\"M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-#.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z\"\r\n                      />\r\n                    </svg>\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    multiple\r\n                    accept=\"image/png, image/jpg, image/jpeg , image/bmp\"\r\n                    className=\"hidden\"\r\n                    id=\"file\"\r\n                  />\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 512 512\"\r\n                    width=\"25\"\r\n                    height=\"25\"\r\n                    className=\"ml-2\"\r\n                  >\r\n                    <path\r\n                      fill=\"#0866FF\"\r\n                      d=\"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm177.6 62.1C192.8 334.5 218.8 352 256 352s63.2-17.5 78.4-33.9c9-9.7 24.2-10.4 33.9-1.4s10.4 24.2 1.4 33.9c-22 23.8-60 49.4-113.6 49.4s-91.7-25.5-113.6-49.4c-9-9.7-8.4-24.9 1.4-33.9s24.9-8.4 33.9 1.4zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\"\r\n                    />\r\n                  </svg>\r\n                </>\r\n              )}\r\n\r\n              <textarea\r\n                id=\"messageField\"\r\n                rows=\"1\"\r\n                onChange={handleMessage}\r\n                type=\"text\"\r\n                placeholder=\"I am developing the feature!\"\r\n                className={`outline-none h-full rounded-xl px-3 bg-gray-200 ml-2 mr-2  ${\r\n                  message.length === 0 ? \"w-2/3\" : \"w-full\"\r\n                } transition-width duration-300`}\r\n              />\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 512 512\"\r\n                width=\"25\"\r\n                height=\"25\"\r\n                className={message.length == 0 ? \"\" : \"d-none\"}\r\n              >\r\n                <path\r\n                  fill=\"#0866FF\"\r\n                  d=\"M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z\"\r\n                />\r\n              </svg>\r\n              <svg\r\n                onClick={() => sendMessage(user._id)}\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 512 512\"\r\n                width=\"25\"\r\n                height=\"25\"\r\n                className={\r\n                  message.length == 0 ? \"d-none\" : \" hover:cursor-pointer\"\r\n                }\r\n              >\r\n                <path\r\n                  fill=\"#0866FF\"\r\n                  d=\"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z\"\r\n                />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RightBar;\r\n","import \"./Home.css\";\r\nimport React, { useContext, useState, useEffect } from \"react\";\r\nimport { apiVariables } from \"../utilities/apiVariables.js\";\r\nimport axios from \"axios\";\r\nimport BASE_URL_API from \"../utilities/baseURL\";\r\nimport Navbar from \"../Navbar.js\";\r\nimport LeftBar from \"./LeftBar.js\";\r\nimport RightBar from \"./RightBar.js\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport LoadingSpinner from \"./LoadingSpinner.js\";\r\nimport PostModal from \"./PostModal.js\";\r\nimport UserDataContext from \"../Context/UserContext.js\";\r\nimport PostUplaodModal from \"./Component/PostUplaodModal.js\";\r\nimport swDev from \"../serveiceWorkerDev.js\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { json, useNavigate } from \"react-router-dom\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { getDays } from \"../utilities/utilities.js\";\r\n\r\nconst HomePage = () => {\r\n  // const [modalShow, setModalShow] = useState(false);\r\n  const [openSubscriptionModal, setOpenSubscriptionModal] = useState(true);\r\n  const [isloading, setisloading] = useState(false);\r\n  const [subscription, setSubscription] = useState({});\r\n  const [textStory, settextStory] = useState([]);\r\n  const [storyView, setStoryView] = useState(false);\r\n  const [viewerLength, setViewerLength] = useState(\"\");\r\n  const defaultTextStory = {\r\n    bgColor: \"bg-white\",\r\n    storyFont: \"sans-sarif\",\r\n    content: \"\",\r\n  };\r\n  const { loggedInUser, OpenPostModal, ClosePostModal, modalShow } =\r\n    useContext(UserDataContext);\r\n    const user = JSON.parse(localStorage.getItem('User'));\r\n  const [userSubscription, setUserSubscription] = useState([]);\r\n  const navigate = useNavigate();\r\n  const loggedInUserSubsctription = localStorage.getItem(\"subscription\");\r\n  const handleClose = () => setOpenSubscriptionModal(false);\r\n  const [smShow, setSmShow] = useState(false);\r\n  const [story, setStory] = useState({});\r\n\r\n  // const handleSubscribe = async () => {\r\n  //   setisloading(true)\r\n  //   const subscription=await swDev();\r\n  //   console.log('subscription',subscription)\r\n  //   if(subscription){\r\n  //     setisloading(false)\r\n  //     setSubscription(subscription);\r\n  //     setOpenSubscriptionModal(false)\r\n  //   }\r\n  //\r\n\r\n  const ConvertDateTime = (DateTime) => {\r\n    return new Date(DateTime).toLocaleString();\r\n  };\r\n\r\n  const getTextStories = async () => {\r\n    let apicall = await axios.get(\r\n      BASE_URL_API + apiVariables.get_text_stories.url,\r\n      { withCredentials: true }\r\n    );\r\n\r\n    if (apicall.status !== 200) {\r\n      console.log(\"NO text stories found\");\r\n    } else {\r\n      settextStory(apicall.data.textStories);\r\n    }\r\n  };\r\n\r\n  const showStory = (id) => {\r\n    setViewerLength();\r\n    setSmShow(true);\r\n    const result = textStory.filter((item) => item._id === id);\r\n    setStory(result[0]);\r\n    setViewerLength(result[0].views.length);\r\n    markStoryView(id);\r\n  };\r\n\r\n  const userStory = textStory.find((item) => item.user === user._id);\r\n\r\n  const markStoryView = async (storyID) => {\r\n    let apicall = await axios.post(\r\n      BASE_URL_API + apiVariables.view_marked_text_stories.url,\r\n      {\r\n        storyId: storyID,\r\n      },\r\n      { withCredentials: true }\r\n    );\r\n\r\n    if (apicall.status !== 201) {\r\n      setStoryView(false);\r\n    } else {\r\n      setStoryView(true);\r\n    }\r\n  };\r\n  // useEffect(()=>{\r\n  //   if(localStorage.getItem('subscription')!='false'){\r\n  //     handleSubscribe();\r\n  //   }\r\n  // },[])\r\n\r\n  useEffect(() => {\r\n    getTextStories();\r\n  }, []);\r\n\r\n \r\n\r\n  return (\r\n    <>\r\n      {/* <Navbar /> */}\r\n      <div className=\"d-flex\">\r\n        {/* <LeftBar /> */}\r\n        <div className=\"col-8 p-4\" id=\"middleBar\" style={{ overflowY: \"hidden\" }}>\r\n          {/* stories */}\r\n          <div>\r\n            <div className=\"w-full overflow-x-scroll mt-2\">\r\n              <div className=\"d-flex gap-3 w-max\">\r\n                <div\r\n                  className={`relative ${\r\n                    textStory.length !== 0 && textStory[0].bgColor\r\n                  } h-[17rem] rounded-md`}\r\n                >\r\n                  {textStory.length == 0 && (\r\n                    <img\r\n                      src={user.profilePic}\r\n                      alt=\"images\"\r\n                      className=\" object-cover w-40 rounded-t-lg h-[13rem]\"\r\n                    />\r\n                  )}\r\n                  <div className={`w-40 h-12 m-2 rounded-md`}>\r\n                    {userStory && ( // Check if userStory is defined (i.e., found a matching story)\r\n                      <img\r\n                        src={userStory.storyURL} // Use the storyURL from the found userStory\r\n                        alt=\"Story Image\"\r\n                        className=\"object-cover w-40 rounded-t-lg h-52\" // Adjusted className\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <button\r\n                    onClick={() => navigate(\"/stories/create\")}\r\n                    className=\"rounded-full ring-offset-2 ring w-8 h-8 absolute left-16 bottom-12 bg-[#1049F4] flex items-center  justify-center\"\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      viewBox=\"0 0 448 512\"\r\n                      height=\"13\"\r\n                      width=\"13\"\r\n                    >\r\n                      <path\r\n                        fill=\"#FFFFFF\"\r\n                        d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n                  <p className=\" absolute bottom-0 left-7 \">Create stroy</p>\r\n                </div>\r\n                {textStory.length !== 0 &&\r\n                  textStory.map((item, index) => {\r\n                    return (\r\n                      <>\r\n                        <div\r\n                          onClick={() => showStory(item._id)}\r\n                          key={index}\r\n                          className=\"relative w-40\"\r\n                        >\r\n                          <img\r\n                            className=\"rounded-full absolute top-2 bg-slate-950  w-8 h-8 left-2 shadow-2xl ring ring-blue-500\"\r\n                            src={item.storyOwnerdp}\r\n                          />\r\n                          <img\r\n                            src={item.storyURL}\r\n                            alt=\"images\"\r\n                            className=\" object-cover w-40 rounded-md h-[17rem]\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })}\r\n              </div>\r\n            </div>\r\n            {/* stories */}\r\n            <div className=\"card mt-2 shadow-sm\">\r\n              <div className=\"card-body\">\r\n                <div className=\"d-flex\">\r\n                  <a href=\"/profile\">\r\n                    <img\r\n                      src={user.profilePic}\r\n                      className=\"w-14 h-14 object-cover rounded-full\"\r\n                    />\r\n                  </a>\r\n                  <button\r\n                    onClick={OpenPostModal}\r\n                    className=\"searchBtn text-muted btn btn-light mx-2 w-100 d-flex justify-start items-center shadow-md\"\r\n                  >\r\n                    {`What's on you mind, ${user.firstName} ?`}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div className=\"d-flex justify-content-around align-items-center mb-2\">\r\n                <button className=\"btn btn-light btn-md d-flex justify-content-between align-items-center shadow-md\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    height=\"2rem\"\r\n                    width=\"2rem\"\r\n                    viewBox=\"0 0 576 512\"\r\n                  >\r\n                    <path\r\n                      fill=\"#F02849\"\r\n                      d=\"M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z\"\r\n                    />\r\n                  </svg>\r\n                  <small className=\"text-muted mx-2\">Live Video</small>\r\n                </button>\r\n                <button\r\n                  onClick={OpenPostModal}\r\n                  type=\"button\"\r\n                  className=\"btn btn-light btn-md shadow-md d-flex justify-content-between align-items-center\"\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    height=\"2rem\"\r\n                    width=\"2rem\"\r\n                    viewBox=\"0 0 576 512\"\r\n                  >\r\n                    <path\r\n                      fill=\"#46BD63\"\r\n                      d=\"M160 32c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160zM396 138.7l96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320H328 280 200c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84C360.5 132 368 128 376 128s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120V344c0 75.1 60.9 136 136 136H456c13.3 0 24-10.7 24-24s-10.7-24-24-24H136c-48.6 0-88-39.4-88-88V120z\"\r\n                    />\r\n                  </svg>\r\n                  <small className=\"text-muted mx-2\">Photo/Video</small>\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-light btn-md d-flex justify-content-between shadow-md  align-items-center\"\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    height=\"2rem\"\r\n                    width=\"2rem\"\r\n                    viewBox=\"0 0 512 512\"\r\n                  >\r\n                    <path\r\n                      fill=\"#FFD43B\"\r\n                      d=\"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm177.6 62.1C192.8 334.5 218.8 352 256 352s63.2-17.5 78.4-33.9c9-9.7 24.2-10.4 33.9-1.4s10.4 24.2 1.4 33.9c-22 23.8-60 49.4-113.6 49.4s-91.7-25.5-113.6-49.4c-9-9.7-8.4-24.9 1.4-33.9s24.9-8.4 33.9 1.4zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\"\r\n                    />\r\n                  </svg>\r\n                  <small className=\"text-muted mx-2\">Feeling/Activity</small>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {/* </div> */}\r\n            <PostUplaodModal />\r\n            <PostModal />\r\n          </div>\r\n        </div>\r\n        <RightBar />\r\n      </div>\r\n      <Modal\r\n        size=\"sm\"\r\n        show={smShow}\r\n        onHide={() => setSmShow(false)}\r\n        aria-labelledby=\"example-modal-sizes-title-sm\"\r\n        centered\r\n        className=\"relative\"\r\n      >\r\n        {user._id === story.user && (\r\n          <div className=\"flex justify-start items-center\">\r\n            <svg\r\n              className=\"ml-2\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 576 512\"\r\n              width=\"25\"\r\n              height=\"25\"\r\n            >\r\n              <path\r\n                fill=\"#36454F\"\r\n                d=\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\"\r\n              />\r\n            </svg>\r\n\r\n            <small className=\"text-3xl text-slate-500 ml-2\">\r\n              {viewerLength && viewerLength}\r\n            </small>\r\n          </div>\r\n        )}\r\n        <div className=\" absolute mt-2 ml-2\">\r\n          <div className=\"d-flex\">\r\n            <a href=\"/profile\">\r\n              <img\r\n                src={story.storyOwnerdp}\r\n                className=\"ml-1 rounded-full h-12 w-12 object-cover \"\r\n              />\r\n            </a>\r\n            <div className=\"d-flex flex-column\">\r\n              <strong className=\"mx-2 text-white\">{story.storyOwnerName}</strong>\r\n              <p style={{ fontSize: \"0.8rem\" }} className=\"mx-2 text-white\">\r\n                {getDays(story.createdAt)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Card.Img variant=\"top\" src={story.storyURL} />\r\n      </Modal>\r\n\r\n      {/* <Modal show={(openSubscriptionModal && loggedInUserSubsctription) ? !openSubscriptionModal : openSubscriptionModal} onHide={handleClose} backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header >\r\n          <Modal.Title>Subscribe</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>Subscribe for push notification</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            close\r\n          </Button>\r\n          <Button disabled={isloading ? true :false} variant=\"primary\" onClick={handleSubscribe}>\r\n            Subscribe\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>  */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"names":["RightBar","user","JSON","parse","localStorage","getItem","loggedInUserfriend","useContext","ChatContext","onlineUsers","updateMessage","message","CreateNewChat","sendMessage","existingMessages","chatWindowData","setChatWindowData","getMessages","openChatwindow","setOpenChatwindow","useState","minimizeChats","setMinimizeChats","sortedMessages","sort","a","b","Date","timestamp","inputElement","document","getElementById","focus","_jsx","_Fragment","children","_jsxs","className","xmlns","viewBox","width","height","d","length","map","item","i","src","friend_dp","onClick","index","indexOf","splice","some","_id","maximizeChatWindow","handleChatwindow","data","friend_ID","userId","friendName","id","fill","handleMinimizeChatWindow","handleCloseWindowChat","isCurrentUser","senderId","alignClass","messageContainerClass","concat","senderDp","text","htmlFor","type","multiple","accept","rows","onChange","e","target","value","placeholder","HomePage","openSubscriptionModal","setOpenSubscriptionModal","isloading","setisloading","subscription","setSubscription","textStory","settextStory","storyView","setStoryView","viewerLength","setViewerLength","loggedInUser","OpenPostModal","ClosePostModal","modalShow","UserDataContext","userSubscription","setUserSubscription","navigate","useNavigate","smShow","setSmShow","story","setStory","userStory","find","markStoryView","async","axios","post","BASE_URL_API","apiVariables","view_marked_text_stories","url","storyId","storyID","withCredentials","status","useEffect","apicall","get","get_text_stories","console","log","textStories","getTextStories","style","overflowY","bgColor","profilePic","alt","storyURL","result","filter","views","showStory","storyOwnerdp","href","firstName","PostUplaodModal","PostModal","Modal","size","show","onHide","centered","storyOwnerName","fontSize","getDays","createdAt","Card","Img","variant"],"sourceRoot":""}